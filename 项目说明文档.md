# MCP项目说明文档

## 项目概述

本项目是基于Model Context Protocol (MCP)的集成服务器实现，包含多个MCP服务器组件和配置文件。MCP是一种轻量级通信标准，允许大语言模型(LLM)与外部工具和数据源交互。本项目提供了多种MCP服务器实现，可以与支持MCP协议的客户端（如Cursor、Claude Desktop、Cline等）集成使用。

## 目录结构说明

### 核心文件

- **README.md**: 项目的主要说明文档，包含项目功能特点、安装和运行说明。
- **requirements.txt**: Python依赖项列表，包含mcp、fastapi、uvicorn等核心依赖。
- **package.json**: Node.js依赖项配置，包含@wopal/mcp-server-hotnews依赖。
- **package-lock.json**: Node.js依赖项锁定文件，确保依赖版本一致性。
- **start_server.sh**: 启动服务器的Shell脚本，设置环境变量并运行Python服务器。
- **mcp.md**: MCP协议的详细说明文档，包含支持MCP的客户端列表和功能支持矩阵。

### 配置文件

- **cursor-mcp.json**: Cursor编辑器的MCP服务器配置文件，定义了sequential-thinking和obsidian两个MCP服务器。
- **cursor-obsidian-mcp.json**: Cursor编辑器的Obsidian集成配置文件（与obsidian-mcp.json内容重复，可考虑合并）。
- **obsidian-mcp.json**: Obsidian专用的MCP服务器配置文件。
- **cline_mcp_settings.json**: Cline工具的MCP配置文件，包含github和github-mcp服务器配置。
- **config.json**: 项目根目录下的配置文件，包含基本服务器设置。
- **.env.example**: 环境变量示例文件（当前为空）。

### 源代码

- **src/server.py**: 主要的MCP服务器实现，基于Python的mcp库，提供echo工具功能。
- **config/config.py**: 使用pydantic的配置管理模块。
- **client_session_explorer.py**: 用于探索客户端会话的工具（应整理到工具目录）。
- **explore_stdio.py**: 标准输入输出探索工具（应整理到工具目录）。
- **explore_mcp.py**: MCP协议探索工具（应整理到工具目录）。

### 测试代码

- **tests/test_mcp_server.py**: MCP服务器基本功能测试，包括连接测试、工具列表获取和echo工具测试。

### MCP服务器实现

#### 1. Echo服务器

- **src/server.py**: 基础的Echo服务器实现，提供简单的消息回显功能。

#### 2. GitHub MCP服务器

- **github/**: GitHub集成的MCP服务器，提供GitHub仓库访问和操作功能。
  - **github-mcp.log**: GitHub MCP服务器日志文件（空文件，可删除）。

#### 3. Browser Tools MCP

- **browser-tools-mcp/**: 浏览器工具集成的MCP服务器，提供浏览器调试和分析功能。
- **Chrome扩展.ini**: Chrome扩展配置文件，与browser-tools-mcp相关。

#### 4. Fetch MCP

- **fetch-mcp/**: 提供网络内容获取功能的MCP服务器，支持获取HTML、JSON、纯文本和Markdown格式的网页内容。

#### 5. Markdownify MCP

- **markdownify-mcp/**: 提供各种文件类型转换为Markdown格式的MCP服务器，支持PDF、图片、音频、网页等内容转换。

### 文档和指南

- **cline_mcp_guide.md**: Cline工具MCP功能的详细使用指南。
- **docs/**: 文档目录
  - **server_structure.md**: 服务器结构说明（7.9KB，356行）
  - **cur.md**: Cursor相关文档（当前为空文件，需要补充内容）

### 运行环境

- **venv/**: Python虚拟环境目录，包含项目依赖。
- **node_modules/**: Node.js模块目录，包含JavaScript依赖。
- **.vscode/**: VS Code编辑器配置目录。
- **.cursor/**: Cursor编辑器配置目录。

## 存在问题的文件（需要整理或删除）

以下文件不属于核心项目结构，建议整理或删除：

1. **chinese_llm_summary.md**: 中文LLM总结文件，与项目功能无直接关系。
2. **Obsidion.md**: 空文件，可能是拼写错误（应为Obsidian）。
3. **未命名.txt**: 未命名文本文件，应重命名为有意义的名称或删除。
4. **path/**: 目录用途不明，需要确认用途或删除。
5. **.DS_Store**: macOS系统生成的元数据文件，应加入.gitignore。
6. **.blackboxrules**: 空文件，目的不明，可能与BlackBox工具相关。
7. **cursor-obsidian-mcp.json**: 与obsidian-mcp.json内容重复，建议合并。
8. **github-mcp.log**: 空日志文件，可删除。

## 使用方法

### 安装依赖

```bash
pip install -r requirements.txt
npm install  # 安装Node.js依赖
```

### 运行Echo服务器

```bash
./start_server.sh
```

或者

```bash
python src/server.py
```

### 测试服务器功能

```bash
python tests/test_mcp_server.py
```

### 配置Cursor使用MCP服务器

1. 确保cursor-mcp.json文件配置正确
2. 在Cursor中启用MCP服务器集成

### 配置Cline使用MCP服务器

1. 确保cline_mcp_settings.json文件配置正确
2. 按照cline_mcp_guide.md中的指南进行设置

## MCP服务器功能说明

### Echo服务器

提供简单的消息回显功能，主要用于测试MCP协议的基本功能。

### GitHub MCP服务器

提供GitHub仓库访问和操作功能，允许AI助手直接与GitHub交互。

### Browser Tools MCP

提供浏览器调试和分析功能，包括：
- 控制台日志捕获
- 网络请求监控
- 页面截图
- 性能、可访问性和SEO审计

### Fetch MCP

提供网络内容获取功能，支持获取各种格式的网页内容。

### Markdownify MCP

提供各种文件类型转换为Markdown格式的功能，支持多种文件类型的转换。

## 项目优化建议

1. **文件整理**：将探索工具（explore_*.py和client_session_explorer.py）移至单独的tools目录
2. **删除冗余文件**：移除.DS_Store、空文件和用途不明的文件
3. **配置合并**：合并重复的Obsidian配置文件
4. **完善文档**：补充cur.md等空文档文件的内容
5. **测试覆盖**：扩展测试用例，覆盖所有MCP服务器功能
6. **依赖管理**：确保requirements.txt和package.json包含所有必要依赖
7. **目录结构优化**：按功能模块重组文件结构，使项目更有条理

## 扩展开发

要开发新的MCP服务器组件，可以参考现有的实现，主要步骤包括：

1. 创建服务器类，继承或使用MCP库的Server类
2. 实现list_tools()方法，定义工具列表
3. 实现call_tool()方法，处理工具调用
4. 可选：实现资源和提示功能
5. 添加相应的测试用例到tests目录

详细的开发指南可以参考docs目录下的文档和mcp.md文件。